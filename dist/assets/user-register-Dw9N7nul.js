async function u(){console.log("✅ user-register.ts 로드됨");const s=document.getElementById("user-register-form"),r=document.getElementById("phoneNumber");if(!s)return;function c(t){const e=t.replace(/[^0-9]/g,"");return e.length<=3?e:e.length<=7?`${e.slice(0,3)}-${e.slice(3)}`:`${e.slice(0,3)}-${e.slice(3,7)}-${e.slice(7,11)}`}r==null||r.addEventListener("input",t=>{const e=t.target,o=c(e.value);e.value=o}),s.addEventListener("submit",async t=>{t.preventDefault(),window.showLoading();const e=document.getElementById("userId").value,o=document.getElementById("password").value,a=document.getElementById("confirmPassword").value,i=document.getElementById("storeName").value,d=document.getElementById("phoneNumber").value;if(!e||!o||!a||!i||!d){window.showToast("모든 필드를 입력해주세요.",3e3,"warning");return}if(o!==a){window.showToast("비밀번호가 일치하지 않습니다.",3e3,"error");return}try{const n=await fetch("https://api.narrowroad-model.com/model_new_store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,password:o,storeName:i,tel:d})});if(n.ok)window.showToast("매장계정생성이 완료되었습니다.",3e3,"success");else{const l=await n.json();window.showToast(`등록 실패: ${l.message}`,3e3,"error")}}catch(n){console.error("매장계정생성 오류:",n),window.showToast("등록 중 오류가 발생했습니다.",3e3,"error")}finally{window.hideLoading()}})}export{u as initUserRegister};
