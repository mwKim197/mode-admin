const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./point-BY6FQF72.js","./apiHelpers-BXehyKPi.js","./userStorage-N8JIWYZF.js","./product-BHO1kDBn.js","./productDetail-Di0-7Go9.js","./imageUploader-B-htDtCv.js","./productAdd-CWivYsoJ.js","./notice-C0rAQnRG.js","./notice-vODWoD1S.css","./deviceManage-B_ZvJDFf.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();const w="modulepreload",E=function(t,n){return new URL(t,n).href},y={},c=function(n,e,i){let o=Promise.resolve();if(e&&e.length>0){let s=function(l){return Promise.all(l.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),u=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=s(e.map(l=>{if(l=E(l,i),l in y)return;y[l]=!0;const h=l.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!i)for(let p=a.length-1;p>=0;p--){const g=a[p];if(g.href===l&&(!h||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":w,h||(d.as="script"),d.crossOrigin="",d.href=l,u&&d.setAttribute("nonce",u),document.head.appendChild(d),h)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&r(a.reason);return n().catch(r)})},b="https://api.narrowroad-model.com";async function _(t,n={},e=!0){if(window.location.pathname.includes("/html/log.html")||window.location.pathname==="/")return{ok:!1,status:200,json:async()=>({message:"ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œëŠ” ì¸ì¦ ìš”ì²­ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."})};const o=localStorage.getItem("authToken");if(!o)return console.log("âŒ í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤."),window.location.href="/index.html",{ok:!1,status:401,json:async()=>({message:"ì¸ì¦ í† í°ì´ ì—†ìŠµë‹ˆë‹¤."})};const r={...n,headers:{...n.headers,Authorization:`Bearer ${o}`,"Content-Type":"application/json"}};e&&window.showLoading();try{const s=await fetch(`${b}${t}`,r);if(s.status===401||s.status===403){const a=await s.json();return console.error("âŒ ì¸ì¦ ì‹¤íŒ¨:",a.message),alert(a.message||"ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),localStorage.removeItem("authToken"),window.location.href="/index.html",{ok:!1,status:s.status,json:async()=>a}}return s}catch(s){return console.error("âŒ API ìš”ì²­ ì˜¤ë¥˜:",s),{ok:!1,status:500,json:async()=>({message:"âŒ API ìš”ì²­ ì˜¤ë¥˜"})}}finally{e&&window.hideLoading()}}function O(t,n={}){return _(t,n,!1)}class v extends Error{}v.prototype.name="InvalidTokenError";async function L(){const t=await _("/model_admin_login?func=me");if(t.status===401||t.status===403){console.warn("ğŸš« ì¸ì¦ ì‹¤íŒ¨ - ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™"),localStorage.removeItem("authToken"),window.location.href="/index.html";return}const n=await t.json();console.log("âœ… ì‚¬ìš©ì ì •ë³´:",n);const e=n==null?void 0:n.grade;if(!e){console.warn("âŒ ì‚¬ìš©ì grade ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.");return}const i={"/html/01.notice.html":[1,2],"/html/01.notice-edit.html":[1,2],"/html/notice.html":[1,2]},o={1:"/html/dashboard.html",2:"/html/dashboard.html",3:"/html/franchise_dashboard.html",4:"/html/store_dashboard.html"},r=window.location.pathname,s=i[r];s&&!s.includes(e)&&(alert("ì´ í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤."),window.location.href=o[e]||"/index.html")}async function P(){const t=await _("/model_admin_login?func=me");if(!t.ok)return console.warn("âŒ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤."),null;const n=await t.json();return{adminId:n.adminId,name:n.name,grade:n.grade}}async function x(){const n=await(await fetch("/partials/head.html")).text();document.head.innerHTML+=n;const i=await(await fetch("/partials/layout.html")).text(),o=document.createElement("div");o.innerHTML=i,document.body.prepend(o);const s=await(await fetch("/partials/header.html")).text(),a=document.createElement("div");if(a.innerHTML=s,document.body.prepend(a),window.location.pathname!=="/html/log.html"){const u=document.createElement("script");u.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js",u.onload=()=>{const l=document.createElement("script");l.src="/js/common.js",document.body.appendChild(l)},document.head.appendChild(u)}}function I(){const t=document.getElementById("global-loading");t&&(t.style.display="flex")}function T(){const t=document.getElementById("global-loading");t&&(t.style.display="none")}window.showLoading=I;window.hideLoading=T;function A(t,n=3e3,e="success"){const i="toast-container";let o=document.getElementById(i);o||(o=document.createElement("div"),o.id=i,o.style.cssText=`
          position: fixed;
          top: 1rem;
          right: 2rem; /* âœ… ì˜¤ë¥¸ìª½ ì—¬ë°±ì€ ê³ ì • */
          z-index: 9999;
          display: flex;
          flex-direction: column;
          align-items: center; /* âœ… ì˜¤ë¥¸ìª½ ì •ë ¬ */
        `,document.body.appendChild(o));const r=document.createElement("div");r.textContent=t;const a={success:{background:"#e6fbe6",border:"2px solid #4CAF50",color:"#2e7d32"},error:{background:"#fde8e8",border:"2px solid #f44336",color:"#b71c1c"},warning:{background:"#fff8e1",border:"2px solid #ffb300",color:"#795548"}}[e];r.style.cssText=`
    background: ${a.background};
    color: ${a.color};
    border: ${a.border};
    padding: 0.8rem 1.2rem;
    margin-top: 0.5rem;
    border-radius: 0.5rem;
    font-size: 1.2rem;
    max-width: 320px;                /* âœ… ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
    white-space: normal;             /* âœ… ì¤„ë°”ê¿ˆ í—ˆìš© */
    word-break: break-word;          /* âœ… ë‹¨ì–´ ê¸¸ì–´ë„ ì¤„ë°”ê¿ˆ */
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
    opacity: 0;
    transform: translateY(-10px);
  `,o.appendChild(r),requestAnimationFrame(()=>{r.style.opacity="1",r.style.transform="translateY(0)"}),setTimeout(()=>{r.style.opacity="0",r.style.transform="translateY(-10px)",setTimeout(()=>o==null?void 0:o.removeChild(r),300)},n)}window.showToast=A;document.addEventListener("DOMContentLoaded",async()=>{console.log("âœ… main.ts ì‹¤í–‰ë¨");const t=window.location.pathname;t!="/html/log.html"&&t!="/html/dashboard.html"&&(await L(),await x());const n=await P();if(n){const e=document.getElementById("user-name"),i=document.getElementById("user-grade");if(e&&(e.textContent=`${n.adminId} ë‹˜`),i){const o={1:"ì´ê´„ê´€ë¦¬ì",2:"ìš´ì˜ê´€ë¦¬ì",3:"í”„ëœì°¨ì´ì¦ˆ",4:"ì¼ë°˜íšŒì›"}[n.grade]||"ì¼ë°˜íšŒì›";i.innerHTML=`<span>${o}</span>`,i.classList.remove("manager","franchise","store"),n.grade===1&&i.classList.add("manager"),n.grade===3&&i.classList.add("franchise"),n.grade===4&&i.classList.add("store")}}if(n&&n.grade<=2){const e=document.querySelector(".sidemenu .menu");[{href:"/html/notice.html?type=admin",label:"ê´€ë¦¬ì ê³µì§€ì‚¬í•­"},{href:"/html/notice.html?type=notice",label:"í™ˆí˜ì´ì§€ ê³µì§€ì‚¬í•­"},{href:"/html/notice.html?type=store",label:"ì„¤ì¹˜ë§¤ì¥"},{href:"/html/notice.html?type=news",label:"ì–¸ë¡ ë³´ë„"},{href:"/html/notice.html?type=machine",label:"ë¨¸ì‹ ì‚¬ìš©ì„¤ëª…"},{href:"/html/empowerment.html",label:"ê¶Œí•œ ê´€ë¦¬"}].forEach(o=>{const r=document.createElement("li");r.innerHTML=`<a href="${o.href}"><p>${o.label}</p></a>`,e==null||e.appendChild(r)})}t==="/index.html"||t==="/"?console.log("index í˜ì´ì§€"):t==="/html/log.html"?(console.log("ğŸ“Œ ë¡œê·¸ì¸ í˜ì´ì§€ - login.ts ë¡œë“œ"),c(()=>import("./login-CF7JtnLB.js"),[],import.meta.url).then(e=>{e.initLogin()})):t==="/html/home.html"?(console.log("ğŸ“Œ í™ˆ í˜ì´ì§€ - home.ts ë¡œë“œ"),c(()=>import("./home-tuB31n18.js"),[],import.meta.url).then(e=>{e.initHome()})):t==="/html/point.html"?(console.log("ğŸ“Œ í¬ì¸íŠ¸ - point.ts ë¡œë“œ"),c(()=>import("./point-BY6FQF72.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>{e.initPoint()})):t==="/html/product.html"?(console.log("ğŸ“Œ ìƒí’ˆ - product.ts ë¡œë“œ"),c(()=>import("./product-BHO1kDBn.js"),__vite__mapDeps([3,2,1]),import.meta.url).then(e=>{e.initProduct()})):t==="/html/product-detail.html"?(console.log("ğŸ“Œ ìƒí’ˆìƒì„¸ - productDetail.ts ë¡œë“œ"),c(()=>import("./productDetail-Di0-7Go9.js"),__vite__mapDeps([4,5,2,1]),import.meta.url).then(e=>{e.initProductDetail()})):t==="/html/product-add.html"?(console.log("ğŸ“Œ ìƒí’ˆë“±ë¡ - productAdd.ts ë¡œë“œ"),c(()=>import("./productAdd-CWivYsoJ.js"),__vite__mapDeps([6,5,2,1]),import.meta.url).then(e=>{e.initProductAdd()})):t==="/html/register.html"?(console.log("ğŸ“Œ íšŒì›ê°€ì… í˜ì´ì§€ - register.ts ë¡œë“œ"),c(()=>import("./register-DpUFDkTR.js"),[],import.meta.url).then(e=>{e.initRegister()})):t==="/html/notice.html"?(console.log("ğŸ“Œ ê´€ë¦¬ì ê³µì§€ì‚¬í•­ë“±ë¡ - notice.ts ë¡œë“œ"),c(()=>import("./notice-C0rAQnRG.js"),__vite__mapDeps([7,1,8]),import.meta.url).then(e=>{e.initNotice()})):t==="/html/franchise_dashboard.html"?(console.log("ğŸ˜ï¸ í”„ëœì°¨ì´ì¦ˆ - franchise.ts ë¡œë“œ"),c(()=>import("./franchise-BqQbRFTF.js"),[],import.meta.url).then(e=>{e.franchiseEdit()})):t==="/html/store_dashboard.html"?(console.log("ğŸ“Œ ë°ì‰¬ë³´ë“œ - store_dashboard.ts ë¡œë“œ"),c(()=>import("./store-p9FV3yAN.js"),[],import.meta.url).then(e=>{e.storeEdit()})):t==="/html/deviceManage.html"?(console.log("ğŸ“Œ ë¨¸ì‹ ê´€ë¦¬ - deviceManage.ts ë¡œë“œ"),c(()=>import("./deviceManage-B_ZvJDFf.js"),__vite__mapDeps([9,1,2]),import.meta.url).then(e=>{e.initDeviceManage()})):t==="/html/sales.html"?(console.log("ğŸ“Œ ë§¤ì¶œ - sales.ts ë¡œë“œ"),c(()=>import("./sales-CcmDgJiV.js"),[],import.meta.url).then(e=>{e.initSales()})):t==="/html/normalSet.html"?(console.log("ğŸ“Œ ì¼ë°˜ì„¤ì • - normalSet.ts ë¡œë“œ"),c(()=>import("./normalSet-bdQTYPok.js"),[],import.meta.url).then(e=>{e.initNormalSet()})):console.log("ğŸ“Œ ê¸°ë³¸ í˜ì´ì§€")});window.addEventListener("load",()=>{document.body.style.visibility="visible"});export{O as a,_ as f,P as g,A as s};
