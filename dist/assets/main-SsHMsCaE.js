const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./notice-BPZhpZ6c.js","./notice-D1Buw7SL.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();const w="modulepreload",y=function(n,t){return new URL(n,t).href},g={},m=function(t,l,a){let e=Promise.resolve();if(l&&l.length>0){const i=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),h=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));e=Promise.allSettled(l.map(s=>{if(s=y(s,a),s in g)return;g[s]=!0;const u=s.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(!!a)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!u||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${p}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":w,u||(c.as="script"),c.crossOrigin="",c.href=s,h&&c.setAttribute("nonce",h),document.head.appendChild(c),u)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}function o(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return e.then(i=>{for(const r of i||[])r.status==="rejected"&&o(r.reason);return t().catch(o)})},_="https://api.narrowroad-model.com";async function E(n,t={}){const l=localStorage.getItem("authToken");if(!l)return window.location.pathname.includes("index.html")||window.location.pathname==="/"||(console.log("❌ 토큰이 없습니다. 로그인 페이지로 이동합니다."),window.location.href="/index.html"),null;const a={...t,headers:{...t.headers,Authorization:`Bearer ${l}`,"Content-Type":"application/json"}};try{const e=await fetch(`${_}/model_admin_login${n}`,a);if(e.status===401)return console.error("❌ 인증 실패: 토큰이 만료되었습니다."),localStorage.removeItem("authToken"),alert("세션이 만료되었습니다. 다시 로그인하세요."),window.location.href="/index.html",null;if(!e.ok)throw new Error(`❌ 요청 실패: ${e.statusText}`);return await e.json()}catch(e){return console.error("❌ API 요청 오류:",e),null}}async function L(){const n=await E("?func=me");n?console.log("✅ 사용자 정보:",n):console.log("❌ 사용자 정보를 가져오지 못했습니다.")}document.addEventListener("DOMContentLoaded",async()=>{console.log("✅ main.ts 실행됨"),await L();const n=window.location.pathname;console.log("path: ",n),n==="/index.html"?(console.log("📌 로그인 페이지 - login.ts 로드"),m(()=>import("./login-DxBYyoNm.js"),[],import.meta.url).then(t=>{t.initLogin()})):n==="/html/register.html"?(console.log("📌 회원가입 페이지 - register.ts 로드"),m(()=>import("./register-BTiPTS-o.js"),[],import.meta.url).then(t=>{t.initRegister()})):n==="/html/notice.html"?(console.log("📌 공지사항등록 - notice.ts 로드"),m(()=>import("./notice-BPZhpZ6c.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>{t.initNotice()})):console.log("📌 기본 페이지")});
