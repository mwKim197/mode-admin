const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./notice-edit-C4TY12XW.js","./notice-edit-D1Buw7SL.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const _="modulepreload",w=function(n,t){return new URL(n,t).href},g={},d=function(t,i,l){let e=Promise.resolve();if(i&&i.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),f=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));e=Promise.allSettled(i.map(a=>{if(a=w(a,l),a in g)return;g[a]=!0;const m=a.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(!!l)for(let h=r.length-1;h>=0;h--){const u=r[h];if(u.href===a&&(!m||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${p}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":_,m||(c.as="script"),c.crossOrigin="",c.href=a,f&&c.setAttribute("nonce",f),document.head.appendChild(c),m)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(r){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r}return e.then(r=>{for(const s of r||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},y="https://api.narrowroad-model.com";async function E(n,t={}){const i=localStorage.getItem("authToken");if(!i)return window.location.pathname.includes("index.html")||window.location.pathname==="/"||(console.log("âŒ í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤."),window.location.href="/index.html"),{ok:!1,status:401,json:async()=>({message:"ì¸ì¦ í† í°ì´ ì—†ìŠµë‹ˆë‹¤."})};const l={...t,headers:{...t.headers,Authorization:`Bearer ${i}`,"Content-Type":"application/json"}};try{const e=await fetch(`${y}${n}`,l);if(e.status===401||e.status===403){const o=await e.json();return console.error("âŒ ì¸ì¦ ì‹¤íŒ¨:",o.message),alert(o.message||"ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),localStorage.removeItem("authToken"),window.location.href="/index.html",{ok:!1,status:e.status,json:async()=>o}}return e}catch(e){return console.error("âŒ API ìš”ì²­ ì˜¤ë¥˜:",e),{ok:!1,status:500,json:async()=>({message:"âŒ API ìš”ì²­ ì˜¤ë¥˜"})}}}async function v(){const n=await E("/model_admin_login?func=me");if(console.log("res: ",n),n.status===401||n.status===403){console.warn("ğŸš« ì¸ì¦ ì‹¤íŒ¨ - ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™"),localStorage.removeItem("authToken"),window.location.href="/index.html";return}const t=await n.json();console.log("âœ… ì‚¬ìš©ì ì •ë³´:",t);const i=t==null?void 0:t.grade;if(!i){console.warn("âŒ ì‚¬ìš©ì grade ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.");return}const l={"/html/notice.html":[1,2],"/html/notice-edit.html":[1,2]},e={1:"/html/dashboard.html",2:"/html/dashboard.html",3:"/html/franchise_dashboard.html",4:"/html/store_dashboard.html"},o=window.location.pathname,r=l[o];r&&!r.includes(i)&&(alert("ì´ í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤."),window.location.href=e[i]||"/index.html")}document.addEventListener("DOMContentLoaded",async()=>{console.log("âœ… main.ts ì‹¤í–‰ë¨"),await v();const n=window.location.pathname;n==="/index.html"||n==="/"?(console.log("ğŸ“Œ ë¡œê·¸ì¸ í˜ì´ì§€ - login.ts ë¡œë“œ"),d(()=>import("./login-Cxi4gb_J.js"),[],import.meta.url).then(t=>{t.initLogin()})):n==="/html/register.html"?(console.log("ğŸ“Œ íšŒì›ê°€ì… í˜ì´ì§€ - register.ts ë¡œë“œ"),d(()=>import("./register-CQ_xWiiB.js"),[],import.meta.url).then(t=>{t.initRegister()})):n==="/html/notice.html"?(console.log("ğŸ“Œ ê³µì§€ì‚¬í•­ - notice.ts ë¡œë“œ"),d(()=>import("./notice-3T3iMldB.js"),[],import.meta.url).then(t=>{t.initNotice()})):n==="/html/notice-edit.html"?(console.log("ğŸ“Œ ê³µì§€ì‚¬í•­ë“±ë¡ - notice-edit.ts ë¡œë“œ"),d(()=>import("./notice-edit-C4TY12XW.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>{t.initNoticeEdit()})):n==="/html/franchise_dashboard.html"?(console.log("ğŸ˜ï¸ í”„ëœì°¨ì´ì¦ˆ - franchise.ts ë¡œë“œ"),d(()=>import("./franchise-BqQbRFTF.js"),[],import.meta.url).then(t=>{t.franchiseEdit()})):n==="/html/store_dashboard.html"?(console.log("ğŸ“Œ ê³µì§€ì‚¬í•­ë“±ë¡ - store_dashboard.ts ë¡œë“œ"),d(()=>import("./store-p9FV3yAN.js"),[],import.meta.url).then(t=>{t.storeEdit()})):console.log("ğŸ“Œ ê¸°ë³¸ í˜ì´ì§€")});export{E as f};
