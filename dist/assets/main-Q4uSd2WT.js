const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./notice-DfJxzF3b.js","./click-Dj9lc78O.js","./notice-edit-B5AtaR8h.js","./notice-edit-D1Buw7SL.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}})();const _="modulepreload",w=function(n,e){return new URL(n,e).href},p={},m=function(e,l,a){let t=Promise.resolve();if(l&&l.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),f=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));t=Promise.allSettled(l.map(i=>{if(i=w(i,a),i in p)return;p[i]=!0;const c=i.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(!!a)for(let h=r.length-1;h>=0;h--){const u=r[h];if(u.href===i&&(!c||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${g}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":_,c||(d.as="script"),d.crossOrigin="",d.href=i,f&&d.setAttribute("nonce",f),document.head.appendChild(d),c)return new Promise((h,u)=>{d.addEventListener("load",h),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})}))}function o(r){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r}return t.then(r=>{for(const s of r||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},y="https://api.narrowroad-model.com";async function E(n,e={}){if(window.location.pathname.includes("index.html")||window.location.pathname==="/")return{ok:!1,status:200,json:async()=>({message:"ë¡œê·¸ì¸ íŽ˜ì´ì§€ì—ì„œëŠ” ì¸ì¦ ìš”ì²­ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."})};const a=localStorage.getItem("authToken");if(!a)return console.log("âŒ í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ íŽ˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤."),window.location.href="/index.html",{ok:!1,status:401,json:async()=>({message:"ì¸ì¦ í† í°ì´ ì—†ìŠµë‹ˆë‹¤."})};const t={...e,headers:{...e.headers,Authorization:`Bearer ${a}`,"Content-Type":"application/json"}};try{const o=await fetch(`${y}${n}`,t);if(o.status===401||o.status===403){const r=await o.json();return console.error("âŒ ì¸ì¦ ì‹¤íŒ¨:",r.message),alert(r.message||"ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),localStorage.removeItem("authToken"),window.location.href="/index.html",{ok:!1,status:o.status,json:async()=>r}}return o}catch(o){return console.error("âŒ API ìš”ì²­ ì˜¤ë¥˜:",o),{ok:!1,status:500,json:async()=>({message:"âŒ API ìš”ì²­ ì˜¤ë¥˜"})}}}async function v(){const n=await E("/model_admin_login?func=me");if(n.status===401||n.status===403){console.warn("ðŸš« ì¸ì¦ ì‹¤íŒ¨ - ë¡œê·¸ì¸ íŽ˜ì´ì§€ë¡œ ì´ë™"),localStorage.removeItem("authToken"),window.location.href="/index.html";return}const e=await n.json();console.log("âœ… ì‚¬ìš©ìž ì •ë³´:",e);const l=e==null?void 0:e.grade;if(!l){console.warn("âŒ ì‚¬ìš©ìž grade ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.");return}const a={"/html/notice.html":[1,2],"/html/notice-edit.html":[1,2]},t={1:"/html/dashboard.html",2:"/html/dashboard.html",3:"/html/franchise_dashboard.html",4:"/html/store_dashboard.html"},o=window.location.pathname,r=a[o];r&&!r.includes(l)&&(alert("ì´ íŽ˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìžˆëŠ” ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤."),window.location.href=t[l]||"/index.html")}async function L(){const e=await(await fetch("/partials/head.html")).text();document.head.innerHTML+=e;const a=await(await fetch("/partials/layout.html")).text(),t=document.createElement("div");t.innerHTML=a,document.body.prepend(t);const r=await(await fetch("/partials/header.html")).text(),s=document.createElement("div");if(s.innerHTML=r,document.body.prepend(s),window.location.pathname!=="/html/log.html"){const i=document.createElement("script");i.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js",i.onload=()=>{const c=document.createElement("script");c.src="/src/js/common.js",document.body.appendChild(c)},document.head.appendChild(i)}}document.addEventListener("DOMContentLoaded",async()=>{console.log("âœ… main.ts ì‹¤í–‰ë¨");const n=window.location.pathname;n!="/html/log.html"&&(await v(),await L()),n==="/index.html"||n==="/"?console.log("index íŽ˜ì´ì§€"):n==="/html/log.html"?(console.log("ðŸ“Œ ë¡œê·¸ì¸ íŽ˜ì´ì§€ - login.ts ë¡œë“œ"),m(()=>import("./login-HV0nqVfD.js"),[],import.meta.url).then(e=>{e.initLogin()})):n==="/html/home.html"?(console.log("ðŸ“Œ í™ˆ íŽ˜ì´ì§€ - home.ts ë¡œë“œ"),m(()=>import("./home-tuB31n18.js"),[],import.meta.url).then(e=>{e.initHome()})):n==="/html/register.html"?(console.log("ðŸ“Œ íšŒì›ê°€ìž… íŽ˜ì´ì§€ - register.ts ë¡œë“œ"),m(()=>import("./register-CE2Ykfyl.js"),[],import.meta.url).then(e=>{e.initRegister()})):n==="/html/notice.html"?(console.log("ðŸ“Œ ê³µì§€ì‚¬í•­ - notice.ts ë¡œë“œ"),m(()=>import("./notice-DfJxzF3b.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>{e.initNotice()})):n==="/html/notice-edit.html"?(console.log("ðŸ“Œ ê³µì§€ì‚¬í•­ë“±ë¡ - notice-edit.ts ë¡œë“œ"),m(()=>import("./notice-edit-B5AtaR8h.js"),__vite__mapDeps([2,1,3]),import.meta.url).then(e=>{e.initNoticeEdit()})):n==="/html/franchise_dashboard.html"?(console.log("ðŸ˜ï¸ í”„ëžœì°¨ì´ì¦ˆ - franchise.ts ë¡œë“œ"),m(()=>import("./franchise-BqQbRFTF.js"),[],import.meta.url).then(e=>{e.franchiseEdit()})):n==="/html/store_dashboard.html"?(console.log("ðŸ“Œ ê³µì§€ì‚¬í•­ë“±ë¡ - store_dashboard.ts ë¡œë“œ"),m(()=>import("./store-p9FV3yAN.js"),[],import.meta.url).then(e=>{e.storeEdit()})):console.log("ðŸ“Œ ê¸°ë³¸ íŽ˜ì´ì§€")});window.addEventListener("load",()=>{document.body.style.visibility="visible"});export{E as f};
