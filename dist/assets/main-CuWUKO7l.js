const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./notice-Cdb2T3Cp.js","./notice-D1Buw7SL.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function l(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=l(e);fetch(e.href,n)}})();const y="modulepreload",w=function(o,t){return new URL(o,t).href},g={},m=function(t,l,a){let e=Promise.resolve();if(l&&l.length>0){const s=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),h=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));e=Promise.allSettled(l.map(i=>{if(i=w(i,a),i in g)return;g[i]=!0;const u=i.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(!!a)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===i&&(!u||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${p}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":y,u||(c.as="script"),c.crossOrigin="",c.href=i,h&&c.setAttribute("nonce",h),document.head.appendChild(c),u)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})}))}function n(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return e.then(s=>{for(const r of s||[])r.status==="rejected"&&n(r.reason);return t().catch(n)})},_="https://api.narrowroad-model.com";async function L(o,t={}){const l=localStorage.getItem("authToken");if(!l)return window.location.pathname.includes("index.html")||window.location.pathname==="/"||(console.log("âŒ í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤."),window.location.href="/index.html"),{ok:!1,status:401,json:async()=>({message:"ì¸ì¦ í† í°ì´ ì—†ìŠµë‹ˆë‹¤."})};const a={...t,headers:{...t.headers,Authorization:`Bearer ${l}`,"Content-Type":"application/json"}};try{const e=await fetch(`${_}${o}`,a);return e.status===401?(console.error("âŒ ì¸ì¦ ì‹¤íŒ¨: í† í°ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤."),localStorage.removeItem("authToken"),alert("ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ì„¸ìš”."),window.location.href="/index.html",{ok:!1,status:401,json:async()=>({message:"ì¸ì¦ ì‹¤íŒ¨: í† í°ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤."})}):e}catch(e){return console.error("âŒ API ìš”ì²­ ì˜¤ë¥˜:",e),{ok:!1,status:500,json:async()=>({message:"âŒ API ìš”ì²­ ì˜¤ë¥˜"})}}}async function P(){const o=await L("/model_admin_login?func=me");o?console.log("âœ… ì‚¬ìš©ì ì •ë³´:",o):console.log("âŒ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.")}document.addEventListener("DOMContentLoaded",async()=>{console.log("âœ… main.ts ì‹¤í–‰ë¨"),await P();const o=window.location.pathname;console.log("path: ",o),o==="/index.html"||o==="/"?(console.log("ğŸ“Œ ë¡œê·¸ì¸ í˜ì´ì§€ - login.ts ë¡œë“œ"),m(()=>import("./login-Cxi4gb_J.js"),[],import.meta.url).then(t=>{t.initLogin()})):o==="/html/register.html"?(console.log("ğŸ“Œ íšŒì›ê°€ì… í˜ì´ì§€ - register.ts ë¡œë“œ"),m(()=>import("./register-DIAv_Dh5.js"),[],import.meta.url).then(t=>{t.initRegister()})):o==="/html/notice.html"?(console.log("ğŸ“Œ ê³µì§€ì‚¬í•­ë“±ë¡ - notice.ts ë¡œë“œ"),m(()=>import("./notice-Cdb2T3Cp.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>{t.initNotice()})):console.log("ğŸ“Œ ê¸°ë³¸ í˜ì´ì§€")});export{L as f};
