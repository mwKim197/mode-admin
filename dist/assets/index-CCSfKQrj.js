(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const p="modulepreload",w=function(n){return"/"+n},d={},f=function(r,s,a){let e=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),i=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));e=Promise.allSettled(s.map(l=>{if(l=w(l),l in d)return;d[l]=!0;const u=l.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":p,u||(c.as="script"),c.crossOrigin="",c.href=l,i&&c.setAttribute("nonce",i),document.head.appendChild(c),u)return new Promise((h,g)=>{c.addEventListener("load",h),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(t){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=t,window.dispatchEvent(i),!i.defaultPrevented)throw t}return e.then(t=>{for(const i of t||[])i.status==="rejected"&&o(i.reason);return r().catch(o)})},y="https://api.narrowroad-model.com";async function E(n,r={}){const s=localStorage.getItem("authToken");if(!s)return window.location.pathname.includes("index.html")||window.location.pathname==="/"||(console.log("âŒ í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤."),window.location.href="/index.html"),null;const a={...r,headers:{...r.headers,Authorization:`Bearer ${s}`,"Content-Type":"application/json"}};try{const e=await fetch(`${y}/model_admin_login${n}`,a);if(e.status===401)return console.error("âŒ ì¸ì¦ ì‹¤íŒ¨: í† í°ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤."),localStorage.removeItem("authToken"),alert("ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ì„¸ìš”."),window.location.href="/index.html",null;if(!e.ok)throw new Error(`âŒ ìš”ì²­ ì‹¤íŒ¨: ${e.statusText}`);return await e.json()}catch(e){return console.error("âŒ API ìš”ì²­ ì˜¤ë¥˜:",e),null}}async function L(){const n=await E("?func=me");n?console.log("âœ… ì‚¬ìš©ì ì •ë³´:",n):console.log("âŒ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.")}document.addEventListener("DOMContentLoaded",async()=>{console.log("âœ… main.ts ì‹¤í–‰ë¨"),await L();const n=window.location.pathname;console.log("path: ",n),n==="/index.html"?(console.log("ğŸ“Œ ë¡œê·¸ì¸ í˜ì´ì§€ - login.ts ë¡œë“œ"),f(()=>import("./login-Dq3w29qA.js"),[]).then(r=>{r.initLogin()})):n==="/html/register.html"?(console.log("ğŸ“Œ íšŒì›ê°€ì… í˜ì´ì§€ - register.ts ë¡œë“œ"),f(()=>import("./register-BTiPTS-o.js"),[]).then(r=>{r.initRegister()})):console.log("ğŸ“Œ ê¸°ë³¸ í˜ì´ì§€")});
