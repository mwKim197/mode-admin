const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/notice-BPZhpZ6c.js","assets/notice-D1Buw7SL.css"])))=>i.map(i=>d[i]);
(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const p="modulepreload",w=function(r){return"/"+r},f={},d=function(o,s,a){let e=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),i=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));e=Promise.allSettled(s.map(l=>{if(l=w(l),l in f)return;f[l]=!0;const u=l.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":p,u||(c.as="script"),c.crossOrigin="",c.href=l,i&&c.setAttribute("nonce",i),document.head.appendChild(c),u)return new Promise((h,g)=>{c.addEventListener("load",h),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(t){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=t,window.dispatchEvent(i),!i.defaultPrevented)throw t}return e.then(t=>{for(const i of t||[])i.status==="rejected"&&n(i.reason);return o().catch(n)})},y="https://api.narrowroad-model.com";async function _(r,o={}){const s=localStorage.getItem("authToken");if(!s)return window.location.pathname.includes("index.html")||window.location.pathname==="/"||(console.log("❌ 토큰이 없습니다. 로그인 페이지로 이동합니다."),window.location.href="/index.html"),null;const a={...o,headers:{...o.headers,Authorization:`Bearer ${s}`,"Content-Type":"application/json"}};try{const e=await fetch(`${y}/model_admin_login${r}`,a);if(e.status===401)return console.error("❌ 인증 실패: 토큰이 만료되었습니다."),localStorage.removeItem("authToken"),alert("세션이 만료되었습니다. 다시 로그인하세요."),window.location.href="/index.html",null;if(!e.ok)throw new Error(`❌ 요청 실패: ${e.statusText}`);return await e.json()}catch(e){return console.error("❌ API 요청 오류:",e),null}}async function E(){const r=await _("?func=me");r?console.log("✅ 사용자 정보:",r):console.log("❌ 사용자 정보를 가져오지 못했습니다.")}document.addEventListener("DOMContentLoaded",async()=>{console.log("✅ main.ts 실행됨"),await E();const r=window.location.pathname;console.log("path: ",r),r==="/index.html"?(console.log("📌 로그인 페이지 - login.ts 로드"),d(()=>import("./login-Dq3w29qA.js"),[]).then(o=>{o.initLogin()})):r==="/html/register.html"?(console.log("📌 회원가입 페이지 - register.ts 로드"),d(()=>import("./register-BTiPTS-o.js"),[]).then(o=>{o.initRegister()})):r==="/html/notice.html"?(console.log("📌 공지사항등록 - notice.ts 로드"),d(()=>import("./notice-BPZhpZ6c.js"),__vite__mapDeps([0,1])).then(o=>{o.initNotice()})):console.log("📌 기본 페이지")});
